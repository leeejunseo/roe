<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI 교전규칙(ROE) 의사결정 시뮬레이터</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="logo-container">
                <img src="logo.svg" alt="로고" class="logo">
            </div>
            <h1>AI 교전규칙(ROE) 의사결정 시뮬레이터</h1>
            <p class="subtitle">AI ROE Decision Simulator</p>
        </header>

        <!-- 시작 화면 -->
        <div id="startScreen" class="screen active">
            <div class="intro-box">
                <h2>시뮬레이터 소개</h2>
                <p>본 시뮬레이터는 <strong>AI 기반 유/무인 복합 편대</strong> 운영 시 발생할 수 있는 윤리적 딜레마 상황을 체험하는 도구입니다.</p>
                <p>당신은 <strong>지휘관</strong> 역할을 맡아, AI의 분석 데이터를 기반으로 제한된 시간 내에 중대한 결정을 내려야 합니다.</p>
                
                <div class="info-box">
                    <h3>📋 진행 방식</h3>
                    <ul>
                        <li>✅ <strong>총 3개의 시나리오</strong>를 순차적으로 경험합니다</li>
                        <li>⏱️ 각 시나리오마다 <strong>15초의 골든타임</strong> 내에 결정해야 합니다</li>
                        <li>🎯 즉시 교전 또는 교전 중지 중 <strong>하나를 선택</strong>합니다</li>
                        <li>📊 모든 시나리오 완료 후 <strong>종합 분석</strong>이 제공됩니다</li>
                    </ul>
                </div>
                
                <div class="warning-box">
                    ⚠️ <strong>주의:</strong> AI의 효율성과 인간의 통제 사이의 균형이 얼마나 중요한지 경험하게 될 것입니다.
                </div>
                <button class="btn btn-primary" onclick="startSimulation()">시뮬레이션 시작</button>
            </div>
        </div>

        <!-- 시나리오 화면 -->
        <div id="scenarioScreen" class="screen">
            <!-- 진행도 표시 -->
            <div class="progress-indicator">
                <span id="progressText">Scenario <span id="currentStep">1</span> / 3</span>
            </div>
            
            <!-- 전장 상황판 -->
            <div class="panel scenario-panel">
                <h2>📡 전장 상황판 (Scenario Display)</h2>
                <div class="info-grid">
                    <div class="info-item">
                        <span class="label">상황 (Context):</span>
                        <span id="context" class="value"></span>
                    </div>
                    <div class="info-item">
                        <span class="label">특이 사항 (Note):</span>
                        <span id="note" class="value warning-text"></span>
                    </div>
                    <div class="info-item">
                        <span class="label">임무 (Mission):</span>
                        <span id="mission" class="value mission-text"></span>
                    </div>
                </div>
            </div>

            <!-- AI 분석 패널 -->
            <div class="panel ai-panel">
                <h2>🤖 AI 분석 패널 (AI Analysis)</h2>
                <div class="analysis-grid">
                    <div class="analysis-item">
                        <div class="analysis-label">표적 식별률</div>
                        <div id="targetConfidence" class="analysis-value"></div>
                        <div class="metric-bar">
                            <div id="targetConfidenceBar" class="metric-bar-fill"></div>
                        </div>
                    </div>
                    <div class="analysis-item">
                        <div class="analysis-label">위협 수준</div>
                        <div id="threatLevel" class="analysis-value"></div>
                    </div>
                    <div class="analysis-item">
                        <div class="analysis-label">부수적 피해 확률</div>
                        <div id="collateralDamage" class="analysis-value danger-text"></div>
                        <div class="metric-bar">
                            <div id="collateralDamageBar" class="metric-bar-fill metric-bar-fill--danger"></div>
                        </div>
                    </div>
                    <div class="analysis-item">
                        <div class="analysis-label">목표 가치 (Level 1~3)</div>
                        <div id="targetValue" class="analysis-value"></div>
                        <div class="analysis-label" style="margin-top:10px;">작전 환경</div>
                        <div id="environment" class="analysis-value"></div>
                    </div>
                    <div class="analysis-item">
                        <div class="analysis-label">AI 권장 행동</div>
                        <div id="aiRecommendation" class="analysis-value" style="color: #ff0000; font-weight: bold;"></div>
                    </div>
                </div>
                
                <div class="countdown-container" style="text-align: center;">
                    <div class="countdown-label">⏱️ 골든타임 (Golden Time)</div>
                    <button id="startGoldenTimeBtn" class="btn btn-primary" style="margin: 10px auto; display: block;">골든타임 시작</button>
                    <div id="countdownContainer" style="display: none; margin-top: 10px;">
                        <div class="countdown">
                            <span>남은 시간: </span>
                            <span id="countdown">15</span>초
                        </div>
                        <div class="countdown-bar">
                            <div id="countdownBar" class="countdown-bar-fill"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 지휘관 의사결정 -->
            <div class="panel decision-panel">
                <h2>⚔️ 지휘관 의사결정 (Commander's Choice)</h2>
                <p class="decision-prompt">제한된 시간 내에 결정을 내려야 합니다!</p>
                <div class="button-group">
                    <button id="engageBtn" class="btn btn-danger" onclick="makeDecision('engage')" disabled>
                        🎯 즉시 교전<br><span class="btn-subtitle"></span>
                    </button>
                    <button id="holdBtn" class="btn btn-warning" onclick="makeDecision('hold')" disabled>
                        🛑 교전 중지<br><span class="btn-subtitle"></span>
                    </button>
                </div>
            </div>
        </div>

        <!-- 결과 화면 -->
        <div id="resultScreen" class="screen">
            <div class="panel result-panel">
                <h2 id="resultTitle">📊 작전 결과 (Result Feedback)</h2>
                
                <div class="result-box">
                    <div class="result-section">
                        <h3>결과</h3>
                        <p id="resultOutcome" class="result-text"></p>
                    </div>
                    
                    <div class="result-section">
                        <h3>피해 보고</h3>
                        <p id="resultDamage" class="result-text"></p>
                    </div>
                    
                    <div class="result-section insight">
                        <h3>💡 정책적 시사점</h3>
                        <p id="resultInsight" class="result-text"></p>
                    </div>
                </div>

                <!-- 대안 선택 비교 -->
                <div class="alternative-box">
                    <h3 id="alternativeTitle">만약 다른 선택을 했다면?</h3>
                    <div class="alternative-content">
                        <div class="alternative-item">
                            <strong>결과:</strong>
                            <span id="alternativeOutcome"></span>
                        </div>
                        <div class="alternative-item">
                            <strong>피해:</strong>
                            <span id="alternativeDamage"></span>
                        </div>
                    </div>
                </div>

                <div class="button-group">
                    <button class="btn btn-secondary" onclick="nextScenario()">다음 시나리오</button>
                    <button class="btn btn-primary" onclick="restartSimulation()">처음으로</button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
